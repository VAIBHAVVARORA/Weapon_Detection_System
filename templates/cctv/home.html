{% extends 'base.html' %}

{% block title %}Live CCTV - ArgusVision{% endblock %}

{% block content %}
<div class="row">
  <!-- Video Section -->
  <div class="col-lg-8 mb-4">
    <div class="glass-card h-100">
      <h2 class="mb-4">Live Surveillance</h2>
      <div class="video-container">
        <video id="videoElement" autoplay></video>
      </div>
      <div class="mt-3 text-end">
        <span class="badge bg-danger animate-pulse">● LIVE</span>
      </div>
    </div>
  </div>

  <!-- Controls Section -->
  <div class="col-lg-4 mb-4">
    <div class="glass-card mb-4">
      <h3 class="mb-3">Quick Actions</h3>
      <form action="" method="post" class="d-grid gap-3">
        {% csrf_token %}
        <button type="submit" class="btn btn-primary btn-lg">
          <span class="me-2">⚠️</span> Send Emergency Alert
        </button>
        <div class="d-grid gap-2">
          <a href="{% url 'image' %}" class="btn btn-outline-light">Analyze Image</a>
          <a href="{% url 'webcam' %}" class="btn btn-outline-light">Open Webcam</a>
        </div>
      </form>
    </div>

    <div class="glass-card">
      <h4 class="mb-3">System Status</h4>
      <div class="d-flex justify-content-between mb-2">
        <span class="text-secondary">Connection</span>
        <span class="text-success">Active</span>
      </div>
      <div class="d-flex justify-content-between mb-2">
        <span class="text-secondary">Uptime</span>
        <span>24h 12m</span>
      </div>
      <div class="d-flex justify-content-between">
        <span class="text-secondary">Region</span>
        <span>North-East 01</span>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="/static/cctv/home.js"></script>
{% endblock %}